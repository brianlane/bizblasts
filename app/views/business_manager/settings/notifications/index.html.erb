<h1>Notification Templates & Integration Credentials</h1>

<h2>Notification Templates</h2>

<%= link_to 'New Notification Template', new_business_manager_settings_notification_path %>

<table>
  <thead>
    <tr>
      <th>Event Type</th>
      <th>Channel</th>
      <th>Subject</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @notification_templates.each do |template| %>
      <tr>
        <td><%= template.event_type %></td>
        <td><%= template.channel %></td>
        <td><%= template.subject %></td>
        <td>
          <%= link_to 'Edit', edit_business_manager_settings_notification_path(template) %>
          <%= button_to 'Delete',
                        business_manager_settings_notification_path(template),
                        method: :delete,
                        data: { confirm: %Q[Are you sure you want to delete the Notification Template '#{template.subject}'?] },
                        class: 'text-red-600 hover:text-red-900' %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<h2>Integration Credentials</h2>

<%= link_to 'Edit Integration Credentials', edit_credentials_business_manager_settings_integration_credentials_path %>

<table>
  <thead>
    <tr>
      <th>Provider</th>
      <th>Config</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @integration_credentials.each do |credential| %>
      <tr>
        <td><%= credential.provider.humanize %></td>
        <td><%= credential.config.to_json %></td>
        <td>
          <%# Link to edit individual credential if needed, or handle in edit_credentials page %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>