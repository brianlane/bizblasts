<%# app/views/qr_payments/_modal_content.html.erb %>
<div class="text-center">
  <h3 class="text-lg font-medium text-gray-900 mb-4">
    QR Code Payment for Invoice <%= qr_data[:invoice_number] %>
  </h3>
  
  <div class="mb-4">
    <p class="text-sm text-gray-600 mb-2">
      <strong><%= qr_data[:customer_name] %></strong>
    </p>
    <p class="text-xl font-bold text-gray-900">
      <%= number_to_currency(qr_data[:amount]) %>
    </p>
  </div>
  
  <div class="mb-4">
    <img src="<%= qr_data[:qr_code_data_url] %>" 
         alt="QR Code for Payment" 
         class="mx-auto max-w-full h-auto"
         style="max-width: 300px;" />
  </div>
  
  <div class="text-sm text-gray-600 mb-4">
    <p class="mb-2">Scan this QR code with your customer's phone to collect payment instantly.</p>
    <p class="text-xs">Payment will be processed through Stripe and you'll be notified when complete.</p>
  </div>
  
  <!-- Payment Status Section -->
  <div data-qr-payment-target="status" class="mt-4 p-3 bg-gray-50 rounded-lg">
    <div class="flex items-center justify-center">
      <div class="animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"></div>
      <span class="text-sm text-gray-600">Waiting for payment...</span>
    </div>
  </div>
  
  <!-- Payment Success Message (hidden by default) -->
  <div data-qr-payment-target="success" class="hidden mt-4 p-3 bg-green-50 border border-green-200 rounded-lg">
    <div class="flex items-center justify-center text-green-700">
      <svg class="h-5 w-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
      </svg>
      <span class="font-medium">Payment Successful!</span>
    </div>
    <p class="text-sm text-green-600 mt-1 text-center">Invoice has been paid. This page will refresh automatically.</p>
  </div>
</div>