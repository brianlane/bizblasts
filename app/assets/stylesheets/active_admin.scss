// Sass variable overrides must be declared before loading up Active Admin's styles.
//
// To view the variables that Active Admin provides, take a look at
// `app/assets/stylesheets/active_admin/mixins/_variables.scss` in the
// Active Admin source.
//
// For example, to change the sidebar width:
// $sidebar-width: 242px;

// IMPORTANT: We use Propshaft instead of Sprockets, so we need more explicit imports
// Import the color module for modern color functions
@use "sass:color";

// Set default variables in case Active Admin mixins are not found
$primary-color: #5E6469 !default;
$secondary-color: #f0f0f0 !default;
$text-color: #323537 !default;
$link-color: #38678b !default;
$section-header-text-color: $primary-color !default;
$current-menu-item-background: color.adjust($primary-color, $lightness: 12%) !default;
$hover-menu-item-background: color.adjust($primary-color, $lightness: 12%) !default;
$table-stripe-color: color.adjust($primary-color, $lightness: 57%) !default;
$table-selected-color: #d9e4ec !default;
$error-color: #932419 !default;
$blank-slate-primary-color: #AAA !default;
$breadcrumbs-color: color.adjust($primary-color, $lightness: 20%) !default;
$breadcrumbs-separator-color: color.adjust($primary-color, $lightness: 20%) !default;
$required-field-marker: $error-color !default;
$form-label-color: $section-header-text-color !default;
$page-header-text-color: #cdcdcd !default;

// Revert to @import for ActiveAdmin files to resolve variable scope issues
@import "active_admin/mixins";
@import "active_admin/base";

// Define our own basic styles in case imports fail
body.active_admin {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
  line-height: 1.5;
  font-size: 14px;
  color: #333;
  background: #f4f4f4;
  margin: 0;
  padding: 0;
}

#header {
  background: $primary-color;
  color: white;
  padding: 10px 20px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

#header h1 {
  font-weight: normal;
  margin: 0;
}

#header a, #header a:link, #header a:visited {
  color: white;
  text-decoration: none;
}

// Login form specific styles
body.logged_out {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding-top: 50px;
  min-height: 100vh;
}

#login {
  max-width: 400px;
  margin: 0 auto;
  background: white;
  padding: 40px;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
}

#login h2 {
  margin-top: 0;
  margin-bottom: 30px;
  text-align: center;
  color: #1a202c;
  font-size: 24px;
  font-weight: 600;
}

// Style the form title/header specifically for BizBlasts Admin Login
#login .panel_title,
#login .header h3,
#login h3 {
  color: #1a202c !important;
  font-size: 24px !important;
  font-weight: 600 !important;
  text-align: center !important;
  margin-bottom: 30px !important;
  margin-top: 0 !important;
}

// Improve form field styling
#login form {
  .form-inputs {
    margin-bottom: 20px;
  }
  
  .input {
    margin-bottom: 20px;
    
    label {
      color: #4a5568;
      font-weight: 500;
      margin-bottom: 5px;
      display: block;
    }
    
    input[type="email"],
    input[type="password"] {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 16px;
      transition: border-color 0.2s, box-shadow 0.2s;
      
      &:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }
    }
  }
  
  .actions {
    margin-top: 30px;
    
    input[type="submit"] {
      width: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 14px 20px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: opacity 0.2s;
      
      &:hover {
        opacity: 0.9;
      }
    }
  }
}

// Remember me checkbox styling
#login .check_boxes {
  .choice {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
    
    input[type="checkbox"] {
      margin-right: 8px;
    }
    
    label {
      color: #4a5568;
      font-weight: normal;
      margin: 0;
    }
  }
}

// Style any links in the login form
#login a {
  color: #667eea;
  text-decoration: none;
  
  &:hover {
    text-decoration: underline;
  }
}

// Overriding any non-variable Sass must be done after the fact.
// For example, to change the default status-tag color:
//
//   .status_tag { background: #6090DB; }

// Custom style to properly hide Formtastic input wrappers
.input-hidden {
  display: none !important; // Use !important to override potential inline styles or other rules
}
