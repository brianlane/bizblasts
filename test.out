4 processes for 37 specs, ~ 9 specs per process
Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 21024
.Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 61218
.Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 845
..Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 58927
.......................................................--- Loading seeds for seed context ---
Seeding database with sample data...
Creating default tenant...
Default tenant created: Default Business (default) ID: 1
Creating admin user (skipped in production)...
.Admin user created with email: admin@example.com and password: password123
Creating sample data for Default Business...
Created customer: Elia Koss
Created customer: Ted Maggio
Created customer: Arcelia Bergnaum VM
Created service: Basic Consultation
Created service: Website Setup
Created service: Monthly Support
Created staff member: Staff Member 1
Created staff member: Staff Member 2
Created booking at 2025-04-21 09:00 - 10:00 for Staff Member 1
.Created booking at 2025-04-15 12:00 - 14:00 for Staff Member 1
.Created booking at 2025-04-21 15:00 - 15:30 for Staff Member 1
Created booking at 2025-04-16 09:00 - 09:30 for Staff Member 2
Created booking at 2025-04-24 12:00 - 13:00 for Staff Member 2
Created booking at 2025-04-23 15:00 - 15:30 for Staff Member 2
Seed data creation complete!
Created admin user: bizblaststeam@gmail.com with password from ENV
..............................................................................................................................................................................

Top 10 slowest examples (1.54 seconds, 31.9% of total time):
  MultiTenant Email Uniqueness allows the same email to be used across different tenants when properly configured
    0.35561 seconds ./spec/integration/multi_tenant_registration_spec.rb:6
  Admin StaffMembers GET /admin/staff_members/new shows the new staff member form
    0.22243 seconds ./spec/requests/admin/staff_members_spec.rb:39
  Admin Debug Page GET /admin/debug when no tenants exist displays the correct title
    0.15101 seconds ./spec/requests/admin/debug_spec.rb:21
  Admin StaffMembers GET /admin/staff_members lists all staff members
    0.13276 seconds ./spec/requests/admin/staff_members_spec.rb:19
  AvailabilityService.available_slots when staff member has split shift availability returns slots only within the defined intervals
    0.13237 seconds ./spec/services/availability_service_spec.rb:137
  Admin Debug Page GET /admin/debug when no tenants exist returns http success
    0.11711 seconds ./spec/requests/admin/debug_spec.rb:17
  AvailabilityService.available_slots when staff member has standard 9-5 availability and an existing booking conflicts excludes slots that overlap with the booking (considering buffer/duration)
    0.11366 seconds ./spec/services/availability_service_spec.rb:95
  BookingManager.create_booking when the time slot is available creates a new booking
    0.10731 seconds ./spec/services/booking_manager_spec.rb:55
  AvailabilityService.available_slots when staff member has standard 9-5 availability and no existing bookings returns all slots within the 9-5 range for a 60min service
    0.10726 seconds ./spec/services/availability_service_spec.rb:53
  Admin StaffMembers DELETE /admin/staff_members/:id deletes the staff member
    0.10544 seconds ./spec/requests/admin/staff_members_spec.rb:98

Top 9 slowest example groups:
  MultiTenant Email Uniqueness
    0.35641 seconds average (0.35641 seconds / 1 example) ./spec/integration/multi_tenant_registration_spec.rb:5
  Admin StaffMembers
    0.12178 seconds average (0.73067 seconds / 6 examples) ./spec/requests/admin/staff_members_spec.rb:5
  AvailabilityService
    0.0986 seconds average (0.69024 seconds / 7 examples) ./spec/services/availability_service_spec.rb:4
  Admin Debug Page
    0.07666 seconds average (0.84325 seconds / 11 examples) ./spec/requests/admin/debug_spec.rb:5
  BookingManager
    0.07435 seconds average (1.19 seconds / 16 examples) ./spec/services/booking_manager_spec.rb:5
  Home
    0.05637 seconds average (0.28185 seconds / 5 examples) ./spec/requests/home_spec.rb:5
  Booking
    0.05211 seconds average (0.46901 seconds / 9 examples) ./spec/models/booking_spec.rb:3
  Health Checks
    0.04001 seconds average (0.20003 seconds / 5 examples) ./spec/requests/health_spec.rb:5
  ApplicationJob
    0.03511 seconds average (0.03511 seconds / 1 example) ./spec/jobs/application_job_spec.rb:5

Finished in 4.85 seconds (files took 4.23 seconds to load)
61 examples, 0 failures

Randomized with seed 845

.....................Coverage report generated for RSpec, RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 73.88% (1544 / 2090)
Branch Coverage: 42.94% (219 / 510)
.............................

Top 10 slowest examples (1.23 seconds, 19.4% of total time):
  Admin Access Control Authorization (Pundit - Basic) when accessing Business index allows access
    0.19907 seconds ./spec/requests/admin_access_control_spec.rb:40
  StaffMember validations is expected not to allow :email to be ‹"invalid-email"›
    0.14328 seconds ./spec/models/staff_member_spec.rb:30
  Admin ServiceTemplates GET /admin/service_templates/new shows the new service template form
    0.12467 seconds ./spec/requests/admin/service_templates_spec.rb:34
  Admin ServiceTemplates PUT /admin/service_templates/:id/deactivate deactivates the template
    0.12158 seconds ./spec/requests/admin/service_templates_spec.rb:159
  StaffMember associations is expected to have and belong to many services
    0.11224 seconds ./spec/models/staff_member_spec.rb:14
  Authentication user sign out allows a signed-in user to sign out
    0.11152 seconds ./spec/system/authentication_spec.rb:159
  Admin ServiceTemplates GET /admin/service_templates lists all service templates
    0.11068 seconds ./spec/requests/admin/service_templates_spec.rb:14
  Admin ServiceTemplates PATCH /admin/service_templates/:id updates the service template
    0.10268 seconds ./spec/requests/admin/service_templates_spec.rb:86
  Admin ServiceTemplates PUT /admin/service_templates/:id/activate activates the template
    0.10204 seconds ./spec/requests/admin/service_templates_spec.rb:147
  Admin ServiceTemplates PUT /admin/service_templates/:id/publish publishes the template
    0.10027 seconds ./spec/requests/admin/service_templates_spec.rb:121

Top 9 slowest example groups:
  Admin Access Control
    0.10164 seconds average (0.40655 seconds / 4 examples) ./spec/requests/admin_access_control_spec.rb:5
  Admin ServiceTemplates
    0.09382 seconds average (1.22 seconds / 13 examples) ./spec/requests/admin/service_templates_spec.rb:5
  Authentication
    0.0755 seconds average (0.67954 seconds / 9 examples) ./spec/system/authentication_spec.rb:6
  StaffMember
    0.05853 seconds average (2.63 seconds / 45 examples) ./spec/models/staff_member_spec.rb:5
  ApplicationMailer
    0.05456 seconds average (0.10913 seconds / 2 examples) ./spec/mailers/application_mailer_spec.rb:5
  TenantCustomer
    0.05396 seconds average (0.26978 seconds / 5 examples) ./spec/models/tenant_customer_spec.rb:5
  Maintenance
    0.05258 seconds average (0.21034 seconds / 4 examples) ./spec/requests/maintenance_spec.rb:5
  Business
    0.05225 seconds average (0.52248 seconds / 10 examples) ./spec/models/business_spec.rb:5
  Database seeds
    0.02084 seconds average (0.20843 seconds / 10 examples) ./spec/seeds/seeds_spec.rb:6

Finished in 6.32 seconds (files took 4.26 seconds to load)
102 examples, 0 failures

Randomized with seed 21024

....

Top 10 slowest examples (1.8 seconds, 28.0% of total time):
  MarketingService.get_campaign_metrics for a combined campaign returns combined placeholder metrics
    0.30503 seconds ./spec/services/marketing_service_spec.rb:221
  Admin Bookings GET /admin/bookings lists all bookings
    0.2468 seconds ./spec/requests/admin/bookings_spec.rb:33
  MarketingService.get_campaign_metrics for an SMS campaign returns metrics based on associated SmsMessages
    0.1902 seconds ./spec/services/marketing_service_spec.rb:204
  MarketingService.get_campaign_metrics for an email campaign returns placeholder email metrics
    0.17105 seconds ./spec/services/marketing_service_spec.rb:195
  SmsService.send_message with a valid phone number creates an SmsMessage record
    0.16949 seconds ./spec/services/sms_service_spec.rb:20
  Application Routes Admin routes when authenticated GET /admin returns success
    0.15476 seconds ./spec/requests/routes_spec.rb:44
  Admin Bookings GET /admin/bookings/:id/edit shows the edit booking form
    0.14489 seconds ./spec/requests/admin/bookings_spec.rb:98
  Admin Bookings PATCH /admin/bookings/:id updates the booking
    0.14273 seconds ./spec/requests/admin/bookings_spec.rb:114
  Admin Dashboard GET /admin shows system metrics
    0.14073 seconds ./spec/requests/admin/dashboard_spec.rb:13
  Admin Bookings GET /admin/bookings/:id shows the booking details
    0.13415 seconds ./spec/requests/admin/bookings_spec.rb:45

Top 8 slowest example groups:
  Admin Bookings
    0.14852 seconds average (1.04 seconds / 7 examples) ./spec/requests/admin/bookings_spec.rb:5
  Admin Dashboard
    0.10961 seconds average (0.32883 seconds / 3 examples) ./spec/requests/admin/dashboard_spec.rb:5
  AnalyticsProcessingJob
    0.10817 seconds average (0.3245 seconds / 3 examples) ./spec/jobs/analytics_processing_job_spec.rb:5
  Admin AdminUsers
    0.09066 seconds average (0.81594 seconds / 9 examples) ./spec/requests/admin/admin_users_spec.rb:5
  MarketingService
    0.08847 seconds average (2.21 seconds / 25 examples) ./spec/services/marketing_service_spec.rb:5
  Application Routes
    0.0841 seconds average (0.50462 seconds / 6 examples) ./spec/requests/routes_spec.rb:3
  SmsService
    0.07418 seconds average (0.89011 seconds / 12 examples) ./spec/services/sms_service_spec.rb:5
  ServiceTemplate
    0.05288 seconds average (0.26441 seconds / 5 examples) ./spec/models/service_template_spec.rb:3

Finished in 6.43 seconds (files took 4.25 seconds to load)
70 examples, 0 failures

Randomized with seed 61218

...........

Top 10 slowest examples (2.81 seconds, 41.2% of total time):
  Admin Businesses POST /admin/businesses creates a new business
    0.95687 seconds ./spec/requests/admin/businesses_spec.rb:65
  MultiTenant Registration users with identical emails in different tenants allows registration and authentication with the same email in different businesses
    0.37051 seconds ./spec/requests/multi_tenant_registration_spec.rb:23
  Admin Businesses GET /admin/businesses/new form renders the form with all fields
    0.2821 seconds ./spec/requests/admin/businesses_spec.rb:175
  Admin Businesses DELETE /admin/businesses/:id custom destroy forcefully deletes the business and associations in test env
    0.25253 seconds ./spec/requests/admin/businesses_spec.rb:156
  PromotionManager.apply_promotion_to_invoice with a valid percentage promotion applies discount, updates invoice, increments usage, creates redemption
    0.19076 seconds ./spec/services/promotion_manager_spec.rb:292
  Admin Businesses GET /admin/businesses index content displays business details
    0.18974 seconds ./spec/requests/admin/businesses_spec.rb:120
  Admin Businesses authentication redirects non-authenticated users to login
    0.15652 seconds ./spec/requests/admin/businesses_spec.rb:40
  Admin Businesses ActiveAdmin configuration has Business model
    0.15329 seconds ./spec/requests/admin/businesses_spec.rb:29
  PromotionManager.apply_promotion_to_booking with a valid percentage promotion applies the discount, updates the booking, increments usage, and creates redemption
    0.13442 seconds ./spec/services/promotion_manager_spec.rb:129
  PromotionManager.validate_promotion_code with a single-use code (limit=1) already redeemed by the customer returns valid: false and an error message
    0.12629 seconds ./spec/services/promotion_manager_spec.rb:84

Top 8 slowest example groups:
  MultiTenant Registration
    0.37335 seconds average (0.37335 seconds / 1 example) ./spec/requests/multi_tenant_registration_spec.rb:5
  Admin Businesses
    0.19496 seconds average (2.73 seconds / 14 examples) ./spec/requests/admin/businesses_spec.rb:8
  PromotionManager
    0.09468 seconds average (2.08 seconds / 22 examples) ./spec/services/promotion_manager_spec.rb:5
  User
    0.06184 seconds average (0.86574 seconds / 14 examples) ./spec/models/user_spec.rb:5
  TenantScoped
    0.05501 seconds average (0.22005 seconds / 4 examples) ./spec/models/tenant_scoped_spec.rb:5
  HomeController
    0.04127 seconds average (0.04127 seconds / 1 example) ./spec/controllers/home_controller_spec.rb:5
  Admin Configuration
    0.03843 seconds average (0.1153 seconds / 3 examples) ./spec/system/admin/companies_spec.rb:4
  Service
    0.0384 seconds average (0.34557 seconds / 9 examples) ./spec/models/service_spec.rb:5

Finished in 6.83 seconds (files took 4.24 seconds to load)
68 examples, 0 failures

Randomized with seed 58927

Coverage report generated for RSpec, RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 73.88% (1544 / 2090)
Branch Coverage: 42.94% (219 / 510)
Coverage report generated for RSpec, RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 73.88% (1544 / 2090)
Branch Coverage: 42.94% (219 / 510)
Coverage report generated for RSpec, RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 73.88% (1544 / 2090)
Branch Coverage: 42.94% (219 / 510)

301 examples, 0 failures

Took 12 seconds
