4 processes for 33 specs, ~ 8 specs per process

Randomized with seed 6361
...
Randomized with seed 13062
..
Randomized with seed 24661
.......
Randomized with seed 55549
....................................................................................................--- Loading seeds for seed context ---
Seeding database with sample data...
Creating default tenant...
Default tenant created: Default Business (default) ID: 1
Creating admin user (skipped in production)...
..Admin user created with email: admin@example.com and password: password123
Creating sample data for Default Business...
Created customer: Sen. Boyd Prosacco
Created customer: Eliana Waelchi JD
Created customer: Eric Beahan
Created service: Basic Consultation
.Created service: Website Setup
Created service: Monthly Support
Created staff member: Staff Member 1
.Created staff member: Staff Member 2
.Created booking at 2025-04-21 09:00 - 10:00 for Staff Member 1
Created booking at 2025-04-22 12:00 - 12:30 for Staff Member 1
Created booking at 2025-04-23 09:00 - 09:30 for Staff Member 2
Created booking at 2025-04-17 12:00 - 12:30 for Staff Member 2
Created booking at 2025-04-23 15:00 - 15:30 for Staff Member 2
Seed data creation complete!
Created admin user: bizblaststeam@gmail.com with password from ENV
.............................................................................

Top 10 slowest examples (1.12 seconds, 33.6% of total time):
  MultiTenant Registration users with identical emails in different tenants allows registration and authentication with the same email in different businesses
    0.34953 seconds ./spec/requests/multi_tenant_registration_spec.rb:23
  Booking validations is expected to validate that :status cannot be empty/falsy
    0.11298 seconds ./spec/models/booking_spec.rb:31
  AvailabilityService.available_slots when staff member has standard 9-5 availability and an existing appointment conflicts excludes slots that overlap with the booking (considering buffer/duration)
    0.10956 seconds ./spec/services/availability_service_spec.rb:99
  BookingManager.update_booking when update parameters are invalid does not update the booking and returns validation errors
    0.08635 seconds ./spec/services/booking_manager_spec.rb:208
  BookingManager.create_booking when the time slot is not available does not create a booking
    0.08446 seconds ./spec/services/booking_manager_spec.rb:92
  User#staff? returns true for admin roles
    0.08036 seconds ./spec/models/user_spec.rb:67
  Booking validations is expected to validate that :end_time cannot be empty/falsy
    0.08026 seconds ./spec/models/booking_spec.rb:30
  BookingManager.create_booking when the time slot is available creates a new booking
    0.07466 seconds ./spec/services/booking_manager_spec.rb:53
  BookingManager.cancel_booking updates the booking status to cancelled
    0.07275 seconds ./spec/services/booking_manager_spec.rb:228
  AvailabilityService.available_slots when staff member has standard 9-5 availability and no existing appointments returns slots for a different interval (e.g., 15 mins)
    0.07205 seconds ./spec/services/availability_service_spec.rb:75

Top 7 slowest example groups:
  MultiTenant Registration
    0.35074 seconds average (0.35074 seconds / 1 example) ./spec/requests/multi_tenant_registration_spec.rb:5
  AvailabilityService
    0.07676 seconds average (0.30706 seconds / 4 examples) ./spec/services/availability_service_spec.rb:4
  BookingManager
    0.06809 seconds average (0.95322 seconds / 14 examples) ./spec/services/booking_manager_spec.rb:5
  Booking
    0.05787 seconds average (0.52081 seconds / 9 examples) ./spec/models/booking_spec.rb:3
  Admin Configuration
    0.05636 seconds average (0.16907 seconds / 3 examples) ./spec/system/admin/companies_spec.rb:4
  User
    0.05455 seconds average (0.7637 seconds / 14 examples) ./spec/models/user_spec.rb:5
  ServiceTemplate
    0.04405 seconds average (0.22025 seconds / 5 examples) ./spec/models/service_template_spec.rb:3

Finished in 3.34 seconds (files took 4.39 seconds to load)
50 examples, 0 failures

Randomized with seed 6361

..................Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.47% (1301 / 2304)
Branch Coverage: 30.08% (157 / 522)
.

Top 10 slowest examples (1.28 seconds, 33.9% of total time):
  MarketingService.get_campaign_metrics for a combined campaign returns combined placeholder metrics
    0.22556 seconds ./spec/services/marketing_service_spec.rb:221
  AnalyticsProcessingJob#perform with report_type: booking_summary without tenant_id (global) processes booking summary for all tenants
    0.17394 seconds ./spec/jobs/analytics_processing_job_spec.rb:45
  MarketingService.get_campaign_metrics for an SMS campaign returns metrics based on associated SmsMessages
    0.16336 seconds ./spec/services/marketing_service_spec.rb:204
  MarketingService.get_campaign_metrics for an email campaign returns placeholder email metrics
    0.14757 seconds ./spec/services/marketing_service_spec.rb:195
  AnalyticsProcessingJob#perform with report_type: booking_summary with tenant_id processes booking summary scoped to the tenant
    0.12136 seconds ./spec/jobs/analytics_processing_job_spec.rb:63
  MarketingService.segment_customers with combined filters returns customers matching all criteria
    0.10738 seconds ./spec/services/marketing_service_spec.rb:278
  AnalyticsProcessingJob#perform with unknown report_type logs an error
    0.08838 seconds ./spec/jobs/analytics_processing_job_spec.rb:79
  MarketingService.segment_customers with :no_booking_in_last_days filter returns customers without recent bookings
    0.08542 seconds ./spec/services/marketing_service_spec.rb:270
  MarketingService.create_campaign with valid parameters creates a new MarketingCampaign
    0.08239 seconds ./spec/services/marketing_service_spec.rb:26
  MarketingService.segment_customers with :service_id filter returns customers who booked a specific service
    0.08142 seconds ./spec/services/marketing_service_spec.rb:260

Top 7 slowest example groups:
  AnalyticsProcessingJob
    0.12865 seconds average (0.38595 seconds / 3 examples) ./spec/jobs/analytics_processing_job_spec.rb:5
  MarketingService
    0.07921 seconds average (1.98 seconds / 25 examples) ./spec/services/marketing_service_spec.rb:5
  StaffMember
    0.05488 seconds average (0.65858 seconds / 12 examples) ./spec/models/staff_member_spec.rb:5
  TenantScoped
    0.05276 seconds average (0.21105 seconds / 4 examples) ./spec/models/tenant_scoped_spec.rb:5
  Maintenance
    0.04914 seconds average (0.19658 seconds / 4 examples) ./spec/requests/maintenance_spec.rb:5
  ApplicationMailer
    0.04709 seconds average (0.09418 seconds / 2 examples) ./spec/mailers/application_mailer_spec.rb:5
  Health Checks
    0.03753 seconds average (0.18765 seconds / 5 examples) ./spec/requests/health_spec.rb:5

Finished in 3.77 seconds (files took 4.39 seconds to load)
55 examples, 0 failures

Randomized with seed 13062

.

Top 10 slowest examples (1.12 seconds, 29.5% of total time):
  PromotionManager.apply_promotion_to_booking with a valid percentage promotion applies the discount, updates the booking, increments usage, and creates redemption
    0.22571 seconds ./spec/services/promotion_manager_spec.rb:129
  Admin Debug Page GET /admin/debug when tenants exist returns http success
    0.11321 seconds ./spec/requests/admin/debug_spec.rb:63
  PromotionManager.apply_promotion_to_invoice with a valid percentage promotion applies discount, updates invoice, increments usage, creates redemption
    0.10312 seconds ./spec/services/promotion_manager_spec.rb:293
  PromotionManager.validate_promotion_code with a single-use code (limit=1) already redeemed by the customer returns valid: false and an error message
    0.10311 seconds ./spec/services/promotion_manager_spec.rb:84
  Application Routes Admin routes when authenticated GET /admin returns success
    0.10239 seconds ./spec/requests/routes_spec.rb:44
  PromotionManager.apply_promotion_to_booking with a valid fixed amount promotion applies the discount, updates the booking, increments usage, and creates redemption
    0.09955 seconds ./spec/services/promotion_manager_spec.rb:156
  PromotionManager.apply_promotion_to_booking when booking amount is already 0 does not apply further discount but records redemption and increments usage
    0.09608 seconds ./spec/services/promotion_manager_spec.rb:246
  PromotionManager.apply_promotion_to_invoice with an invalid promotion code returns validation error and does not modify invoice or redemption
    0.09444 seconds ./spec/services/promotion_manager_spec.rb:323
  PromotionManager.apply_promotion_to_booking when fixed discount is greater than booking amount discounts amount to 0 and records correct discount amount
    0.09361 seconds ./spec/services/promotion_manager_spec.rb:217
  Application Routes Admin routes when authenticated GET /admin/dashboard returns success
    0.08591 seconds ./spec/requests/routes_spec.rb:49

Top 7 slowest example groups:
  PromotionManager
    0.08799 seconds average (1.58 seconds / 18 examples) ./spec/services/promotion_manager_spec.rb:5
  Application Routes
    0.07338 seconds average (0.44025 seconds / 6 examples) ./spec/requests/routes_spec.rb:3
  Admin Debug Page
    0.06845 seconds average (0.75298 seconds / 11 examples) ./spec/requests/admin/debug_spec.rb:5
  HomeController
    0.0633 seconds average (0.0633 seconds / 1 example) ./spec/controllers/home_controller_spec.rb:5
  StaffMember
    0.04708 seconds average (0.23542 seconds / 5 examples) ./spec/models/service_provider_spec.rb:5
  TenantCustomer
    0.04464 seconds average (0.22318 seconds / 5 examples) ./spec/models/tenant_customer_spec.rb:5
  Business
    0.04357 seconds average (0.43566 seconds / 10 examples) ./spec/models/business_spec.rb:5

Finished in 3.79 seconds (files took 4.38 seconds to load)
56 examples, 0 failures

Randomized with seed 24661

Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.47% (1301 / 2304)
Branch Coverage: 30.08% (157 / 522)
Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.47% (1301 / 2304)
Branch Coverage: 30.08% (157 / 522)
.....

Top 10 slowest examples (2.23 seconds, 45.7% of total time):
  Admin Companies POST /admin/businesses creates a new business
    1.03 seconds ./spec/requests/admin/companies_spec.rb:49
  MultiTenant Email Uniqueness allows the same email to be used across different tenants when properly configured
    0.37141 seconds ./spec/integration/multi_tenant_registration_spec.rb:6
  Admin Dashboard GET /admin shows system metrics
    0.12511 seconds ./spec/requests/admin/dashboard_spec.rb:13
  Authentication user sign in shows errors when login information is invalid
    0.1219 seconds ./spec/system/authentication_spec.rb:143
  Authentication user sign up allows a new user to sign up with proper business context
    0.10064 seconds ./spec/system/authentication_spec.rb:86
  Admin Companies authentication allows authenticated admin users to access
    0.09966 seconds ./spec/requests/admin/companies_spec.rb:34
  Admin Dashboard GET /admin displays the admin dashboard
    0.09931 seconds ./spec/requests/admin/dashboard_spec.rb:7
  Admin Companies authentication redirects non-authenticated users to login
    0.09578 seconds ./spec/requests/admin/companies_spec.rb:26
  Service scopes .active returns only active services
    0.09398 seconds ./spec/models/service_spec.rb:37
  SmsService.process_webhook with unknown status returns success true but does not change sms status
    0.09188 seconds ./spec/services/sms_service_spec.rb:175

Top 9 slowest example groups:
  MultiTenant Email Uniqueness
    0.37181 seconds average (0.37181 seconds / 1 example) ./spec/integration/multi_tenant_registration_spec.rb:5
  Admin Companies
    0.20198 seconds average (1.62 seconds / 8 examples) ./spec/requests/admin/companies_spec.rb:5
  Admin Dashboard
    0.10249 seconds average (0.30746 seconds / 3 examples) ./spec/requests/admin/dashboard_spec.rb:5
  Authentication
    0.08161 seconds average (0.73446 seconds / 9 examples) ./spec/system/authentication_spec.rb:6
  SmsService
    0.06378 seconds average (0.76541 seconds / 12 examples) ./spec/services/sms_service_spec.rb:5
  Service
    0.05699 seconds average (0.5129 seconds / 9 examples) ./spec/models/service_spec.rb:5
  Home
    0.05441 seconds average (0.27205 seconds / 5 examples) ./spec/requests/home_spec.rb:5
  ApplicationJob
    0.0475 seconds average (0.0475 seconds / 1 example) ./spec/jobs/application_job_spec.rb:5
  Database seeds
    0.02024 seconds average (0.20237 seconds / 10 examples) ./spec/seeds/seeds_spec.rb:6

Finished in 4.89 seconds (files took 4.4 seconds to load)
58 examples, 0 failures

Randomized with seed 55549

Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.47% (1301 / 2304)
Branch Coverage: 30.08% (157 / 522)

219 examples, 0 failures

Took 10 seconds
