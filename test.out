4 processes for 33 specs, ~ 8 specs per process
Applying early Sprockets/Propshaft conflict fix...
Could not load sprockets/manifest: cannot load such file -- sprockets/manifest
Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 59382
....Applying early Sprockets/Propshaft conflict fix...
Could not load sprockets/manifest: cannot load such file -- sprockets/manifest
Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 58716
...Applying early Sprockets/Propshaft conflict fix...
Could not load sprockets/manifest: cannot load such file -- sprockets/manifest
Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 1128
.Applying early Sprockets/Propshaft conflict fix...
Could not load sprockets/manifest: cannot load such file -- sprockets/manifest
Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 59761
................................................................................--- Loading seeds for seed context ---
.Seeding database with sample data...
Creating default tenant...
..Default tenant created: Default Business (default) ID: 1
Creating admin user (skipped in production)...
Admin user created with email: admin@example.com and password: password123
Creating sample data for Default Business...
Created customer: Scott Rogahn
Created customer: Bo Kautzer
..Created customer: Prof. Donald Botsford
.Created service: Basic Consultation
Created service: Website Setup
Created service: Monthly Support
.Created staff member: Staff Member 1
Created staff member: Staff Member 2
..Created booking at 2025-04-14 09:00 - 09:30 for Staff Member 1
Created booking at 2025-04-15 12:00 - 12:30 for Staff Member 1
.Created booking at 2025-04-14 15:00 - 15:30 for Staff Member 1
Created booking at 2025-04-16 09:00 - 11:00 for Staff Member 2
Created booking at 2025-04-10 12:00 - 14:00 for Staff Member 2
.Created booking at 2025-04-16 15:00 - 15:30 for Staff Member 2
Seed data creation complete!
Created admin user: bizblaststeam@gmail.com with password from ENV
...............................................................................

Top 10 slowest examples (1.12 seconds, 35.0% of total time):
  MultiTenant Registration users with identical emails in different tenants allows registration and authentication with the same email in different businesses
    0.38352 seconds ./spec/requests/multi_tenant_registration_spec.rb:23
  BookingManager.cancel_booking updates the booking status to cancelled
    0.15764 seconds ./spec/services/booking_manager_spec.rb:228
  BookingManager.create_booking when the time slot is available creates a new booking
    0.08725 seconds ./spec/services/booking_manager_spec.rb:53
  AvailabilityService.available_slots when staff member has standard 9-5 availability and no existing appointments returns slots for a different interval (e.g., 15 mins)
    0.07232 seconds ./spec/services/availability_service_spec.rb:75
  BookingManager.create_booking when booking params are invalid (e.g., missing service) does not create a booking and returns validation errors
    0.07078 seconds ./spec/services/booking_manager_spec.rb:111
  BookingManager.cancel_booking records the cancellation reason if provided
    0.07056 seconds ./spec/services/booking_manager_spec.rb:234
  AvailabilityService.available_slots when staff member has standard 9-5 availability and no existing appointments returns all slots within the 9-5 range for a 60min service
    0.06992 seconds ./spec/services/availability_service_spec.rb:53
  User scopes .staff_users returns admin, manager, and staff roles
    0.06798 seconds ./spec/models/user_spec.rb:54
  BookingManager.update_booking when updating non-time attributes updates the booking successfully
    0.06765 seconds ./spec/services/booking_manager_spec.rb:136
  Booking associations is expected to belong to business required: true
    0.06744 seconds ./spec/models/booking_spec.rb:5

Top 7 slowest example groups:
  MultiTenant Registration
    0.38409 seconds average (0.38409 seconds / 1 example) ./spec/requests/multi_tenant_registration_spec.rb:5
  BookingManager
    0.06982 seconds average (0.97753 seconds / 14 examples) ./spec/services/booking_manager_spec.rb:5
  AvailabilityService
    0.06626 seconds average (0.26505 seconds / 4 examples) ./spec/services/availability_service_spec.rb:4
  Booking
    0.05176 seconds average (0.46587 seconds / 9 examples) ./spec/models/booking_spec.rb:3
  User
    0.0513 seconds average (0.71817 seconds / 14 examples) ./spec/models/user_spec.rb:5
  ServiceTemplate
    0.04298 seconds average (0.21488 seconds / 5 examples) ./spec/models/service_template_spec.rb:3
  Admin Configuration
    0.03567 seconds average (0.10702 seconds / 3 examples) ./spec/system/admin/companies_spec.rb:4

Finished in 3.19 seconds (files took 5.07 seconds to load)
50 examples, 0 failures

Randomized with seed 59761

........................

Top 10 slowest examples (1.09 seconds, 29.8% of total time):
  PromotionManager.apply_promotion_to_invoice with an invalid promotion code returns validation error and does not modify invoice or redemption
    0.18919 seconds ./spec/services/promotion_manager_spec.rb:323
  Admin Debug Page GET /admin/debug when tenants exist returns http success
    0.13639 seconds ./spec/requests/admin/debug_spec.rb:63
  PromotionManager.apply_promotion_to_invoice with a valid percentage promotion applies discount, updates invoice, increments usage, creates redemption
    0.11241 seconds ./spec/services/promotion_manager_spec.rb:293
  Application Routes Admin routes when authenticated GET /admin returns success
    0.10397 seconds ./spec/requests/routes_spec.rb:44
  PromotionManager.apply_promotion_to_booking with a valid percentage promotion applies the discount, updates the booking, increments usage, and creates redemption
    0.10187 seconds ./spec/services/promotion_manager_spec.rb:129
  PromotionManager.apply_promotion_to_booking with a valid fixed amount promotion applies the discount, updates the booking, increments usage, and creates redemption
    0.098 seconds ./spec/services/promotion_manager_spec.rb:156
  Admin Debug Page GET /admin/debug when request is within a tenant context shows current request info with the correct tenant
    0.08993 seconds ./spec/requests/admin/debug_spec.rb:95
  PromotionManager.apply_promotion_to_booking when booking amount is already 0 does not apply further discount but records redemption and increments usage
    0.08876 seconds ./spec/services/promotion_manager_spec.rb:246
  PromotionManager.apply_promotion_to_booking when usage limit is reached between validation and application returns an error and does not apply the promotion
    0.0884 seconds ./spec/services/promotion_manager_spec.rb:198
  PromotionManager.apply_promotion_to_booking when fixed discount is greater than booking amount discounts amount to 0 and records correct discount amount
    0.08358 seconds ./spec/services/promotion_manager_spec.rb:217

Top 7 slowest example groups:
  PromotionManager
    0.08322 seconds average (1.5 seconds / 18 examples) ./spec/services/promotion_manager_spec.rb:5
  Admin Debug Page
    0.06958 seconds average (0.76539 seconds / 11 examples) ./spec/requests/admin/debug_spec.rb:5
  Application Routes
    0.06437 seconds average (0.38621 seconds / 6 examples) ./spec/requests/routes_spec.rb:3
  TenantCustomer
    0.04989 seconds average (0.24946 seconds / 5 examples) ./spec/models/tenant_customer_spec.rb:5
  StaffMember
    0.04829 seconds average (0.24145 seconds / 5 examples) ./spec/models/service_provider_spec.rb:5
  HomeController
    0.04282 seconds average (0.04282 seconds / 1 example) ./spec/controllers/home_controller_spec.rb:5
  Business
    0.04244 seconds average (0.42438 seconds / 10 examples) ./spec/models/business_spec.rb:5

Finished in 3.66 seconds (files took 5.06 seconds to load)
56 examples, 0 failures

Randomized with seed 59382

.Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.42% (1305 / 2313)
Branch Coverage: 29.96% (157 / 524)
.

Top 10 slowest examples (1.33 seconds, 35.8% of total time):
  MarketingService.get_campaign_metrics for a combined campaign returns combined placeholder metrics
    0.34228 seconds ./spec/services/marketing_service_spec.rb:221
  MarketingService.get_campaign_metrics for an email campaign returns placeholder email metrics
    0.18634 seconds ./spec/services/marketing_service_spec.rb:195
  MarketingService.get_campaign_metrics for an SMS campaign returns metrics based on associated SmsMessages
    0.17552 seconds ./spec/services/marketing_service_spec.rb:204
  MarketingService.segment_customers returns all active customers if no filters provided
    0.12677 seconds ./spec/services/marketing_service_spec.rb:289
  AnalyticsProcessingJob#perform with report_type: booking_summary with tenant_id processes booking summary scoped to the tenant
    0.10783 seconds ./spec/jobs/analytics_processing_job_spec.rb:63
  MarketingService.segment_customers with :service_id filter returns customers who booked a specific service
    0.08626 seconds ./spec/services/marketing_service_spec.rb:260
  MarketingService.segment_customers with combined filters returns customers matching all criteria
    0.07883 seconds ./spec/services/marketing_service_spec.rb:278
  AnalyticsProcessingJob#perform with report_type: booking_summary without tenant_id (global) processes booking summary for all tenants
    0.07603 seconds ./spec/jobs/analytics_processing_job_spec.rb:45
  AnalyticsProcessingJob#perform with unknown report_type logs an error
    0.07432 seconds ./spec/jobs/analytics_processing_job_spec.rb:79
  Maintenance GET /maintenance does not require authentication
    0.07128 seconds ./spec/requests/maintenance_spec.rb:18

Top 7 slowest example groups:
  AnalyticsProcessingJob
    0.08705 seconds average (0.26114 seconds / 3 examples) ./spec/jobs/analytics_processing_job_spec.rb:5
  MarketingService
    0.08372 seconds average (2.09 seconds / 25 examples) ./spec/services/marketing_service_spec.rb:5
  TenantScoped
    0.05414 seconds average (0.21655 seconds / 4 examples) ./spec/models/tenant_scoped_spec.rb:5
  Maintenance
    0.05412 seconds average (0.21648 seconds / 4 examples) ./spec/requests/maintenance_spec.rb:5
  StaffMember
    0.05173 seconds average (0.62082 seconds / 12 examples) ./spec/models/staff_member_spec.rb:5
  ApplicationMailer
    0.03896 seconds average (0.07792 seconds / 2 examples) ./spec/mailers/application_mailer_spec.rb:5
  Health Checks
    0.03132 seconds average (0.15659 seconds / 5 examples) ./spec/requests/health_spec.rb:5

Finished in 3.7 seconds (files took 5.08 seconds to load)
55 examples, 0 failures

Randomized with seed 1128

..........Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.42% (1305 / 2313)
Branch Coverage: 29.96% (157 / 524)
Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.42% (1305 / 2313)
Branch Coverage: 29.96% (157 / 524)
.....

Top 10 slowest examples (2.25 seconds, 47.3% of total time):
  Admin Companies POST /admin/businesses creates a new business
    0.99486 seconds ./spec/requests/admin/companies_spec.rb:49
  MultiTenant Email Uniqueness allows the same email to be used across different tenants when properly configured
    0.36344 seconds ./spec/integration/multi_tenant_registration_spec.rb:6
  Admin Companies authentication redirects non-authenticated users to login
    0.18072 seconds ./spec/requests/admin/companies_spec.rb:26
  Admin Companies DELETE /admin/businesses/:id deletes a business
    0.12624 seconds ./spec/requests/admin/companies_spec.rb:67
  Admin Companies authentication allows authenticated admin users to access
    0.11277 seconds ./spec/requests/admin/companies_spec.rb:34
  Authentication user sign out allows a signed-in user to sign out
    0.10933 seconds ./spec/system/authentication_spec.rb:159
  Authentication user sign in allows a registered user to sign in
    0.09699 seconds ./spec/system/authentication_spec.rb:130
  Admin Dashboard GET /admin shows system metrics
    0.09276 seconds ./spec/requests/admin/dashboard_spec.rb:13
  Authentication user sign in shows errors when login information is invalid
    0.08762 seconds ./spec/system/authentication_spec.rb:143
  Admin Companies GET /admin/businesses lists all businesses
    0.08451 seconds ./spec/requests/admin/companies_spec.rb:41

Top 9 slowest example groups:
  MultiTenant Email Uniqueness
    0.36536 seconds average (0.36536 seconds / 1 example) ./spec/integration/multi_tenant_registration_spec.rb:5
  Admin Companies
    0.21235 seconds average (1.7 seconds / 8 examples) ./spec/requests/admin/companies_spec.rb:5
  Admin Dashboard
    0.08444 seconds average (0.25331 seconds / 3 examples) ./spec/requests/admin/dashboard_spec.rb:5
  Authentication
    0.08046 seconds average (0.72414 seconds / 9 examples) ./spec/system/authentication_spec.rb:6
  SmsService
    0.06363 seconds average (0.76358 seconds / 12 examples) ./spec/services/sms_service_spec.rb:5
  Home
    0.05 seconds average (0.25001 seconds / 5 examples) ./spec/requests/home_spec.rb:5
  Service
    0.04168 seconds average (0.37513 seconds / 9 examples) ./spec/models/service_spec.rb:5
  ApplicationJob
    0.03169 seconds average (0.03169 seconds / 1 example) ./spec/jobs/application_job_spec.rb:5
  Database seeds
    0.02326 seconds average (0.23258 seconds / 10 examples) ./spec/seeds/seeds_spec.rb:6

Finished in 4.76 seconds (files took 5.09 seconds to load)
58 examples, 0 failures

Randomized with seed 58716

Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.42% (1305 / 2313)
Branch Coverage: 29.96% (157 / 524)

219 examples, 0 failures

Took 10 seconds
