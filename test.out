4 processes for 33 specs, ~ 8 specs per process
Applying early Sprockets/Propshaft conflict fix...
Could not load sprockets/manifest: cannot load such file -- sprockets/manifest
Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 24195
.Applying early Sprockets/Propshaft conflict fix...
Could not load sprockets/manifest: cannot load such file -- sprockets/manifest
Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 64580
..Applying early Sprockets/Propshaft conflict fix...
Could not load sprockets/manifest: cannot load such file -- sprockets/manifest
Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 48779
....................Applying early Sprockets/Propshaft conflict fix...
Could not load sprockets/manifest: cannot load such file -- sprockets/manifest
Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 9965
................................................................................................................--- Loading seeds for seed context ---
Seeding database with sample data...
Creating default tenant...
Default tenant created: Default Business (default) ID: 1
Creating admin user (skipped in production)...
..Admin user created with email: admin@example.com and password: password123
Creating sample data for Default Business...
Created customer: Kendall Fritsch
Created customer: Delila Dach
Created customer: Erasmo Maggio
Created service: Basic Consultation
Created service: Website Setup
Created service: Monthly Support
Created staff member: Staff Member 1
Created staff member: Staff Member 2
.Created booking at 2025-04-14 09:00 - 11:00 for Staff Member 1
.Created booking at 2025-04-15 12:00 - 12:30 for Staff Member 1
Created booking at 2025-04-14 15:00 - 15:30 for Staff Member 1
Created booking at 2025-04-16 09:00 - 11:00 for Staff Member 2
Created booking at 2025-04-10 12:00 - 12:30 for Staff Member 2
Seed data creation complete!
Created admin user: bizblaststeam@gmail.com with password from ENV
................................................

Top 10 slowest examples (1.04 seconds, 33.7% of total time):
  MultiTenant Registration users with identical emails in different tenants allows registration and authentication with the same email in different businesses
    0.35578 seconds ./spec/requests/multi_tenant_registration_spec.rb:23
  Booking validations is expected to validate that :status cannot be empty/falsy
    0.12736 seconds ./spec/models/booking_spec.rb:31
  AvailabilityService.available_slots when staff member has standard 9-5 availability and no existing appointments returns slots for a different interval (e.g., 15 mins)
    0.07726 seconds ./spec/services/availability_service_spec.rb:75
  BookingManager.create_booking when the time slot is available creates a new booking
    0.07407 seconds ./spec/services/booking_manager_spec.rb:53
  BookingManager.create_booking when the time slot is not available does not schedule any reminders
    0.06953 seconds ./spec/services/booking_manager_spec.rb:101
  BookingManager.cancel_booking updates the booking status to cancelled
    0.0688 seconds ./spec/services/booking_manager_spec.rb:228
  User validations allows duplicate emails across different businesses
    0.06813 seconds ./spec/models/user_spec.rb:30
  BookingManager.update_booking when updating time to an available slot updates the booking start and end times
    0.06756 seconds ./spec/services/booking_manager_spec.rb:159
  AvailabilityService.available_slots when staff member has standard 9-5 availability and an existing appointment conflicts excludes slots that overlap with the booking (considering buffer/duration)
    0.06736 seconds ./spec/services/availability_service_spec.rb:99
  User scopes .staff_users returns admin, manager, and staff roles
    0.06529 seconds ./spec/models/user_spec.rb:54

Top 7 slowest example groups:
  MultiTenant Registration
    0.35697 seconds average (0.35697 seconds / 1 example) ./spec/requests/multi_tenant_registration_spec.rb:5
  AvailabilityService
    0.06452 seconds average (0.25808 seconds / 4 examples) ./spec/services/availability_service_spec.rb:4
  BookingManager
    0.0632 seconds average (0.88483 seconds / 14 examples) ./spec/services/booking_manager_spec.rb:5
  Booking
    0.05558 seconds average (0.5002 seconds / 9 examples) ./spec/models/booking_spec.rb:3
  User
    0.05209 seconds average (0.72922 seconds / 14 examples) ./spec/models/user_spec.rb:5
  ServiceTemplate
    0.0391 seconds average (0.19549 seconds / 5 examples) ./spec/models/service_template_spec.rb:3
  Admin Configuration
    0.03661 seconds average (0.10984 seconds / 3 examples) ./spec/system/admin/companies_spec.rb:4

Finished in 3.09 seconds (files took 4.87 seconds to load)
50 examples, 0 failures

Randomized with seed 64580

....................

Top 10 slowest examples (0.9868 seconds, 27.8% of total time):
  PromotionManager.apply_promotion_to_invoice with a valid percentage promotion applies discount, updates invoice, increments usage, creates redemption
    0.17069 seconds ./spec/services/promotion_manager_spec.rb:293
  Application Routes Admin routes GET /admin/login returns success
    0.10837 seconds ./spec/requests/routes_spec.rb:34
  PromotionManager.validate_promotion_code with a single-use code (limit=1) not yet redeemed by the customer returns valid: true
    0.10231 seconds ./spec/services/promotion_manager_spec.rb:100
  Application Routes Admin routes when authenticated GET /admin returns success
    0.09514 seconds ./spec/requests/routes_spec.rb:44
  PromotionManager.apply_promotion_to_booking when booking amount is already 0 does not apply further discount but records redemption and increments usage
    0.0878 seconds ./spec/services/promotion_manager_spec.rb:246
  TenantCustomer validations allows duplicate emails across different businesses
    0.0871 seconds ./spec/models/tenant_customer_spec.rb:42
  Admin Debug Page GET /admin/debug when tenants exist lists the available tenants
    0.08495 seconds ./spec/requests/admin/debug_spec.rb:67
  PromotionManager.apply_promotion_to_booking with a valid percentage promotion applies the discount, updates the booking, increments usage, and creates redemption
    0.08431 seconds ./spec/services/promotion_manager_spec.rb:129
  PromotionManager.apply_promotion_to_booking with a valid fixed amount promotion applies the discount, updates the booking, increments usage, and creates redemption
    0.08367 seconds ./spec/services/promotion_manager_spec.rb:156
  StaffMember validations is expected to validate that :name cannot be empty/falsy
    0.08246 seconds ./spec/models/service_provider_spec.rb:16

Top 7 slowest example groups:
  PromotionManager
    0.07756 seconds average (1.4 seconds / 18 examples) ./spec/services/promotion_manager_spec.rb:5
  Application Routes
    0.07373 seconds average (0.4424 seconds / 6 examples) ./spec/requests/routes_spec.rb:3
  Admin Debug Page
    0.06396 seconds average (0.70356 seconds / 11 examples) ./spec/requests/admin/debug_spec.rb:5
  StaffMember
    0.05115 seconds average (0.25573 seconds / 5 examples) ./spec/models/service_provider_spec.rb:5
  TenantCustomer
    0.04902 seconds average (0.24508 seconds / 5 examples) ./spec/models/tenant_customer_spec.rb:5
  HomeController
    0.04181 seconds average (0.04181 seconds / 1 example) ./spec/controllers/home_controller_spec.rb:5
  Business
    0.04161 seconds average (0.41608 seconds / 10 examples) ./spec/models/business_spec.rb:5

Finished in 3.55 seconds (files took 4.87 seconds to load)
56 examples, 0 failures
.
Randomized with seed 48779

.Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.42% (1305 / 2313)
Branch Coverage: 29.96% (157 / 524)
..

Top 10 slowest examples (1.34 seconds, 36.5% of total time):
  MarketingService.get_campaign_metrics for a combined campaign returns combined placeholder metrics
    0.25973 seconds ./spec/services/marketing_service_spec.rb:221
  MarketingService.get_campaign_metrics for an SMS campaign returns metrics based on associated SmsMessages
    0.22884 seconds ./spec/services/marketing_service_spec.rb:204
  MarketingService.get_campaign_metrics for an email campaign returns placeholder email metrics
    0.18524 seconds ./spec/services/marketing_service_spec.rb:195
  AnalyticsProcessingJob#perform with report_type: booking_summary with tenant_id processes booking summary scoped to the tenant
    0.16786 seconds ./spec/jobs/analytics_processing_job_spec.rb:63
  Maintenance GET /maintenance does not require authentication
    0.09229 seconds ./spec/requests/maintenance_spec.rb:18
  AnalyticsProcessingJob#perform with report_type: booking_summary without tenant_id (global) processes booking summary for all tenants
    0.0879 seconds ./spec/jobs/analytics_processing_job_spec.rb:45
  StaffMember#available_at? returns false for days with no intervals (off days)
    0.08404 seconds ./spec/models/staff_member_spec.rb:89
  MarketingService.segment_customers returns all active customers if no filters provided
    0.08009 seconds ./spec/services/marketing_service_spec.rb:289
  AnalyticsProcessingJob#perform with unknown report_type logs an error
    0.07678 seconds ./spec/jobs/analytics_processing_job_spec.rb:79
  MarketingService.create_campaign with invalid parameters does not create a campaign
    0.07636 seconds ./spec/services/marketing_service_spec.rb:70

Top 7 slowest example groups:
  AnalyticsProcessingJob
    0.11152 seconds average (0.33455 seconds / 3 examples) ./spec/jobs/analytics_processing_job_spec.rb:5
  MarketingService
    0.0809 seconds average (2.02 seconds / 25 examples) ./spec/services/marketing_service_spec.rb:5
  Maintenance
    0.05499 seconds average (0.21995 seconds / 4 examples) ./spec/requests/maintenance_spec.rb:5
  TenantScoped
    0.05329 seconds average (0.21316 seconds / 4 examples) ./spec/models/tenant_scoped_spec.rb:5
  StaffMember
    0.04822 seconds average (0.5786 seconds / 12 examples) ./spec/models/staff_member_spec.rb:5
  Health Checks
    0.03513 seconds average (0.17564 seconds / 5 examples) ./spec/requests/health_spec.rb:5
  ApplicationMailer
    0.03426 seconds average (0.06853 seconds / 2 examples) ./spec/mailers/application_mailer_spec.rb:5

Finished in 3.67 seconds (files took 4.86 seconds to load)
55 examples, 0 failures

Randomized with seed 24195

Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.42% (1305 / 2313)
Branch Coverage: 29.96% (157 / 524)
........

Top 10 slowest examples (2.12 seconds, 47.1% of total time):
  Admin Companies POST /admin/businesses creates a new business
    0.96703 seconds ./spec/requests/admin/companies_spec.rb:49
  MultiTenant Email Uniqueness allows the same email to be used across different tenants when properly configured
    0.3676 seconds ./spec/integration/multi_tenant_registration_spec.rb:6
  Admin Dashboard GET /admin shows system metrics
    0.13159 seconds ./spec/requests/admin/dashboard_spec.rb:13
  Authentication user sign up allows a new user to sign up with proper business context
    0.12218 seconds ./spec/system/authentication_spec.rb:86
  SmsService.send_booking_confirmation calls send_message with the correct arguments and formatted message
    0.11188 seconds ./spec/services/sms_service_spec.rb:87
  Admin Dashboard GET /admin has a link to tenant debug information
    0.08913 seconds ./spec/requests/admin/dashboard_spec.rb:19
  SmsService.send_message with a valid phone number when simulated send succeeds returns success: true and updates record to sent
    0.08502 seconds ./spec/services/sms_service_spec.rb:43
  Admin Companies authentication allows authenticated admin users to access
    0.08489 seconds ./spec/requests/admin/companies_spec.rb:34
  Authentication user registration shows errors with invalid registration information
    0.0843 seconds ./spec/system/authentication_spec.rb:60
  Authentication user sign out allows a signed-in user to sign out
    0.08058 seconds ./spec/system/authentication_spec.rb:159

Top 9 slowest example groups:
  MultiTenant Email Uniqueness
    0.36801 seconds average (0.36801 seconds / 1 example) ./spec/integration/multi_tenant_registration_spec.rb:5
  Admin Companies
    0.17675 seconds average (1.41 seconds / 8 examples) ./spec/requests/admin/companies_spec.rb:5
  Admin Dashboard
    0.09887 seconds average (0.29662 seconds / 3 examples) ./spec/requests/admin/dashboard_spec.rb:5
  Authentication
    0.07371 seconds average (0.6634 seconds / 9 examples) ./spec/system/authentication_spec.rb:6
  SmsService
    0.06755 seconds average (0.81055 seconds / 12 examples) ./spec/services/sms_service_spec.rb:5
  Home
    0.05406 seconds average (0.27032 seconds / 5 examples) ./spec/requests/home_spec.rb:5
  Service
    0.04721 seconds average (0.42487 seconds / 9 examples) ./spec/models/service_spec.rb:5
  ApplicationJob
    0.0422 seconds average (0.0422 seconds / 1 example) ./spec/jobs/application_job_spec.rb:5
  Database seeds
    0.01574 seconds average (0.15736 seconds / 10 examples) ./spec/seeds/seeds_spec.rb:6

Finished in 4.51 seconds (files took 4.89 seconds to load)
58 examples, 0 failures

Randomized with seed 9965

Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.42% (1305 / 2313)
Branch Coverage: 29.96% (157 / 524)

219 examples, 0 failures

Took 10 seconds
