4 processes for 33 specs, ~ 8 specs per process

Randomized with seed 36824
..
Randomized with seed 8006
....
Randomized with seed 64873
........
Randomized with seed 62813
................................................................................................................................--- Loading seeds for seed context ---
Seeding database with sample data...
Creating default tenant...
Default tenant created: Default Business (default) ID: 1
Creating admin user (skipped in production)...
Admin user created with email: admin@example.com and password: password123
Creating sample data for Default Business...
..Created customer: Jefferson Cruickshank
Created customer: Adalberto Will
Created customer: Pres. Allyn Hand
.Created service: Basic Consultation
Created service: Website Setup
Created service: Monthly Support
Created staff member: Staff Member 1
Created staff member: Staff Member 2
.Created booking at 2025-04-21 09:00 - 09:30 for Staff Member 1
Created booking at 2025-04-15 12:00 - 13:00 for Staff Member 1
.Created booking at 2025-04-21 15:00 - 16:00 for Staff Member 1
Created booking at 2025-04-23 09:00 - 10:00 for Staff Member 2
.Created booking at 2025-04-17 12:00 - 13:00 for Staff Member 2
Created booking at 2025-04-16 15:00 - 16:00 for Staff Member 2
Seed data creation complete!
Created admin user: bizblaststeam@gmail.com with password from ENV
..................................

Top 10 slowest examples (1.14 seconds, 34.5% of total time):
  MultiTenant Registration users with identical emails in different tenants allows registration and authentication with the same email in different businesses
    0.38111 seconds ./spec/requests/multi_tenant_registration_spec.rb:23
  Booking validations is expected to validate that :status cannot be empty/falsy
    0.09663 seconds ./spec/models/booking_spec.rb:31
  BookingManager.cancel_booking updates the booking status to cancelled
    0.09343 seconds ./spec/services/booking_manager_spec.rb:228
  BookingManager.update_booking when updating non-time attributes does not reschedule reminders
    0.09141 seconds ./spec/services/booking_manager_spec.rb:143
  ServiceTemplate validations and defaults defaults active to true
    0.08822 seconds ./spec/models/service_template_spec.rb:22
  AvailabilityService.available_slots when staff member has standard 9-5 availability and an existing appointment conflicts excludes slots that overlap with the booking (considering buffer/duration)
    0.08588 seconds ./spec/services/availability_service_spec.rb:99
  User validations validates uniqueness of email scoped to business_id
    0.07768 seconds ./spec/models/user_spec.rb:23
  BookingManager.create_booking when the time slot is available creates a new booking
    0.07627 seconds ./spec/services/booking_manager_spec.rb:53
  BookingManager.create_booking when the time slot is available schedules two booking reminders
    0.0735 seconds ./spec/services/booking_manager_spec.rb:68
  BookingManager.cancel_booking records the cancellation reason if provided
    0.07346 seconds ./spec/services/booking_manager_spec.rb:234

Top 7 slowest example groups:
  MultiTenant Registration
    0.38164 seconds average (0.38164 seconds / 1 example) ./spec/requests/multi_tenant_registration_spec.rb:5
  BookingManager
    0.0687 seconds average (0.96185 seconds / 14 examples) ./spec/services/booking_manager_spec.rb:5
  AvailabilityService
    0.06773 seconds average (0.27094 seconds / 4 examples) ./spec/services/availability_service_spec.rb:4
  Booking
    0.05684 seconds average (0.51156 seconds / 9 examples) ./spec/models/booking_spec.rb:3
  User
    0.05281 seconds average (0.73936 seconds / 14 examples) ./spec/models/user_spec.rb:5
  ServiceTemplate
    0.05217 seconds average (0.26084 seconds / 5 examples) ./spec/models/service_template_spec.rb:3
  Admin Configuration
    0.03945 seconds average (0.11836 seconds / 3 examples) ./spec/system/admin/companies_spec.rb:4

Finished in 3.3 seconds (files took 4.28 seconds to load)
50 examples, 0 failures

Randomized with seed 62813

....................Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.47% (1301 / 2304)
Branch Coverage: 30.08% (157 / 522)
.....

Top 10 slowest examples (1.38 seconds, 35.2% of total time):
  MarketingService.get_campaign_metrics for a combined campaign returns combined placeholder metrics
    0.25239 seconds ./spec/services/marketing_service_spec.rb:221
  AnalyticsProcessingJob#perform with report_type: booking_summary without tenant_id (global) processes booking summary for all tenants
    0.20529 seconds ./spec/jobs/analytics_processing_job_spec.rb:45
  MarketingService.get_campaign_metrics for an email campaign returns placeholder email metrics
    0.19094 seconds ./spec/services/marketing_service_spec.rb:195
  MarketingService.get_campaign_metrics for an SMS campaign returns metrics based on associated SmsMessages
    0.1709 seconds ./spec/services/marketing_service_spec.rb:204
  StaffMember validations is expected to validate that :name cannot be empty/falsy
    0.1071 seconds ./spec/models/staff_member_spec.rb:16
  AnalyticsProcessingJob#perform with report_type: booking_summary with tenant_id processes booking summary scoped to the tenant
    0.09898 seconds ./spec/jobs/analytics_processing_job_spec.rb:63
  StaffMember#available_at? returns false if staff member is inactive
    0.09374 seconds ./spec/models/staff_member_spec.rb:93
  MarketingService.cancel_campaign when campaign is running updates status to cancelled
    0.08678 seconds ./spec/services/marketing_service_spec.rb:164
  TenantScoped default_scope is automatically applied to all queries
    0.08636 seconds ./spec/models/tenant_scoped_spec.rb:48
  AnalyticsProcessingJob#perform with unknown report_type logs an error
    0.08313 seconds ./spec/jobs/analytics_processing_job_spec.rb:79

Top 7 slowest example groups:
  AnalyticsProcessingJob
    0.12953 seconds average (0.38858 seconds / 3 examples) ./spec/jobs/analytics_processing_job_spec.rb:5
  MarketingService
    0.08015 seconds average (2 seconds / 25 examples) ./spec/services/marketing_service_spec.rb:5
  StaffMember
    0.06489 seconds average (0.77865 seconds / 12 examples) ./spec/models/staff_member_spec.rb:5
  TenantScoped
    0.06286 seconds average (0.25144 seconds / 4 examples) ./spec/models/tenant_scoped_spec.rb:5
  Maintenance
    0.04428 seconds average (0.17711 seconds / 4 examples) ./spec/requests/maintenance_spec.rb:5
  ApplicationMailer
    0.0369 seconds average (0.0738 seconds / 2 examples) ./spec/mailers/application_mailer_spec.rb:5
  Health Checks
    0.0358 seconds average (0.17901 seconds / 5 examples) ./spec/requests/health_spec.rb:5

Finished in 3.91 seconds (files took 4.26 seconds to load)
55 examples, 0 failures

Randomized with seed 36824

.

Top 10 slowest examples (1.05 seconds, 26.8% of total time):
  PromotionManager.apply_promotion_to_invoice with a valid percentage promotion applies discount, updates invoice, increments usage, creates redemption
    0.15896 seconds ./spec/services/promotion_manager_spec.rb:293
  Application Routes Admin routes when authenticated GET /admin returns success
    0.12334 seconds ./spec/requests/routes_spec.rb:44
  PromotionManager.validate_promotion_code with a single-use code (limit=1) not yet redeemed by the customer returns valid: true
    0.09981 seconds ./spec/services/promotion_manager_spec.rb:100
  Admin Debug Page GET /admin/debug when tenants exist lists the available tenants
    0.09947 seconds ./spec/requests/admin/debug_spec.rb:67
  TenantCustomer associations is expected to belong to business required: true
    0.09857 seconds ./spec/models/tenant_customer_spec.rb:7
  Application Routes Authentication routes GET /users/sign_in returns success
    0.09822 seconds ./spec/requests/routes_spec.rb:20
  Admin Debug Page GET /admin/debug when no tenants exist displays the correct title
    0.0949 seconds ./spec/requests/admin/debug_spec.rb:21
  PromotionManager.apply_promotion_to_booking when booking amount is already 0 does not apply further discount but records redemption and increments usage
    0.09408 seconds ./spec/services/promotion_manager_spec.rb:246
  PromotionManager.apply_promotion_to_booking with a valid percentage promotion applies the discount, updates the booking, increments usage, and creates redemption
    0.09195 seconds ./spec/services/promotion_manager_spec.rb:129
  PromotionManager.apply_promotion_to_booking with an invalid promotion code returns the validation error and does not change booking or redemptions
    0.09099 seconds ./spec/services/promotion_manager_spec.rb:183

Top 7 slowest example groups:
  PromotionManager
    0.08281 seconds average (1.49 seconds / 18 examples) ./spec/services/promotion_manager_spec.rb:5
  Admin Debug Page
    0.07867 seconds average (0.86535 seconds / 11 examples) ./spec/requests/admin/debug_spec.rb:5
  Application Routes
    0.07624 seconds average (0.45747 seconds / 6 examples) ./spec/requests/routes_spec.rb:3
  TenantCustomer
    0.05864 seconds average (0.29319 seconds / 5 examples) ./spec/models/tenant_customer_spec.rb:5
  StaffMember
    0.05327 seconds average (0.26637 seconds / 5 examples) ./spec/models/service_provider_spec.rb:5
  HomeController
    0.04516 seconds average (0.04516 seconds / 1 example) ./spec/controllers/home_controller_spec.rb:5
  Business
    0.04449 seconds average (0.44486 seconds / 10 examples) ./spec/models/business_spec.rb:5

Finished in 3.92 seconds (files took 4.29 seconds to load)
56 examples, 0 failures

Randomized with seed 8006

........Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.47% (1301 / 2304)
Branch Coverage: 30.08% (157 / 522)
.Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.47% (1301 / 2304)
Branch Coverage: 30.08% (157 / 522)
..

Top 10 slowest examples (2.31 seconds, 46.7% of total time):
  Admin Companies POST /admin/businesses creates a new business
    0.96763 seconds ./spec/requests/admin/companies_spec.rb:49
  MultiTenant Email Uniqueness allows the same email to be used across different tenants when properly configured
    0.40213 seconds ./spec/integration/multi_tenant_registration_spec.rb:6
  Admin Dashboard GET /admin has a link to tenant debug information
    0.15769 seconds ./spec/requests/admin/dashboard_spec.rb:19
  Admin Companies DELETE /admin/businesses/:id deletes a business
    0.13173 seconds ./spec/requests/admin/companies_spec.rb:67
  Authentication user sign in shows an error with incorrect credentials
    0.11997 seconds ./spec/system/authentication_spec.rb:26
  Admin Companies GET /admin/businesses lists all businesses
    0.11643 seconds ./spec/requests/admin/companies_spec.rb:41
  Authentication user sign in shows errors when login information is invalid
    0.11264 seconds ./spec/system/authentication_spec.rb:143
  Admin Companies authentication allows authenticated admin users to access
    0.10361 seconds ./spec/requests/admin/companies_spec.rb:34
  Admin Companies authentication redirects non-authenticated users to login
    0.10206 seconds ./spec/requests/admin/companies_spec.rb:26
  Authentication user sign out allows a signed-in user to sign out
    0.10073 seconds ./spec/system/authentication_spec.rb:159

Top 9 slowest example groups:
  MultiTenant Email Uniqueness
    0.40376 seconds average (0.40376 seconds / 1 example) ./spec/integration/multi_tenant_registration_spec.rb:5
  Admin Companies
    0.20201 seconds average (1.62 seconds / 8 examples) ./spec/requests/admin/companies_spec.rb:5
  Admin Dashboard
    0.1065 seconds average (0.31949 seconds / 3 examples) ./spec/requests/admin/dashboard_spec.rb:5
  Authentication
    0.09127 seconds average (0.82144 seconds / 9 examples) ./spec/system/authentication_spec.rb:6
  SmsService
    0.06826 seconds average (0.81917 seconds / 12 examples) ./spec/services/sms_service_spec.rb:5
  Service
    0.04805 seconds average (0.43242 seconds / 9 examples) ./spec/models/service_spec.rb:5
  Home
    0.04501 seconds average (0.22504 seconds / 5 examples) ./spec/requests/home_spec.rb:5
  ApplicationJob
    0.04244 seconds average (0.04244 seconds / 1 example) ./spec/jobs/application_job_spec.rb:5
  Database seeds
    0.02214 seconds average (0.22139 seconds / 10 examples) ./spec/seeds/seeds_spec.rb:6

Finished in 4.96 seconds (files took 4.29 seconds to load)
58 examples, 0 failures

Randomized with seed 64873

Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 56.47% (1301 / 2304)
Branch Coverage: 30.08% (157 / 522)

219 examples, 0 failures

Took 10 seconds
