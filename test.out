4 processes for 37 specs, ~ 9 specs per process
Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 24645
.Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 59705
...Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 62199
.....Setting up Propshaft asset paths for ActiveAdmin...
Added ActiveAdmin asset paths: /usr/local/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0

Randomized with seed 28417
...........................................................................................................................................--- Loading seeds for seed context ---
Seeding database with sample data...
Creating default tenant...
Default tenant created: Default Business (default) ID: 1
Creating admin user (skipped in production)...
Admin user created with email: admin@example.com and password: password123
Creating sample data for Default Business...
..Created customer: Rashad Reinger
Created customer: Mollie Jones
Created customer: Rolanda Hagenes
Created service: Basic Consultation
Created service: Website Setup
Created service: Monthly Support
Created staff member: Staff Member 1
.Created staff member: Staff Member 2
Created booking at 2025-04-21 09:00 - 10:00 for Staff Member 1
Created booking at 2025-04-15 12:00 - 14:00 for Staff Member 1
Created booking at 2025-04-14 15:00 - 16:00 for Staff Member 1
Created booking at 2025-04-16 09:00 - 11:00 for Staff Member 2
Created booking at 2025-04-17 12:00 - 13:00 for Staff Member 2
Seed data creation complete!
Created admin user: bizblaststeam@gmail.com with password from ENV
....................................................

Top 10 slowest examples (1.66 seconds, 32.8% of total time):
  MultiTenant Registration users with identical emails in different tenants allows registration and authentication with the same email in different businesses
    0.40474 seconds ./spec/requests/multi_tenant_registration_spec.rb:23
  AvailabilityService.available_slots when there is a date exception (special hours) returns slots only within the special hours
    0.16419 seconds ./spec/services/availability_service_spec.rb:176
  Admin StaffMembers GET /admin/staff_members lists all staff members
    0.1507 seconds ./spec/requests/admin/staff_members_spec.rb:17
  Admin ServiceTemplates POST /admin/service_templates/batch_action activates selected templates
    0.14849 seconds ./spec/requests/admin/service_templates_spec.rb:202
  Admin ServiceTemplates GET /admin/service_templates/new shows the new service template form
    0.14215 seconds ./spec/requests/admin/service_templates_spec.rb:34
  Admin ServiceTemplates PATCH /admin/service_templates/:id updates the service template
    0.13955 seconds ./spec/requests/admin/service_templates_spec.rb:86
  Admin ServiceTemplates GET /admin/service_templates lists all service templates
    0.13521 seconds ./spec/requests/admin/service_templates_spec.rb:14
  Admin ServiceTemplates PUT /admin/service_templates/:id/activate activates the template
    0.12718 seconds ./spec/requests/admin/service_templates_spec.rb:147
  AvailabilityService.available_slots when staff member has standard 9-5 availability and an existing appointment conflicts excludes slots that overlap with the booking (considering buffer/duration)
    0.12285 seconds ./spec/services/availability_service_spec.rb:99
  Admin ServiceTemplates POST /admin/service_templates/batch_action publishes selected templates
    0.12204 seconds ./spec/requests/admin/service_templates_spec.rb:176

Top 9 slowest example groups:
  MultiTenant Registration
    0.40552 seconds average (0.40552 seconds / 1 example) ./spec/requests/multi_tenant_registration_spec.rb:5
  Admin ServiceTemplates
    0.11654 seconds average (1.52 seconds / 13 examples) ./spec/requests/admin/service_templates_spec.rb:5
  Admin StaffMembers
    0.11263 seconds average (0.67576 seconds / 6 examples) ./spec/requests/admin/staff_members_spec.rb:5
  AvailabilityService
    0.10452 seconds average (0.73166 seconds / 7 examples) ./spec/services/availability_service_spec.rb:4
  HomeController
    0.09223 seconds average (0.09223 seconds / 1 example) ./spec/controllers/home_controller_spec.rb:5
  TenantScoped
    0.08252 seconds average (0.33009 seconds / 4 examples) ./spec/models/tenant_scoped_spec.rb:5
  StaffMember
    0.06539 seconds average (0.78471 seconds / 12 examples) ./spec/models/staff_member_spec.rb:5
  ServiceTemplate
    0.0626 seconds average (0.31298 seconds / 5 examples) ./spec/models/service_template_spec.rb:3
  Admin Configuration
    0.04702 seconds average (0.14106 seconds / 3 examples) ./spec/system/admin/companies_spec.rb:4

Finished in 5.05 seconds (files took 4.59 seconds to load)
52 examples, 0 failures

Randomized with seed 28417

.......................................

Top 10 slowest examples (1.24 seconds, 20.5% of total time):
  Authentication user sign in allows a registered user to sign in
    0.17658 seconds ./spec/system/authentication_spec.rb:130
  Booking validations is expected to validate that :status cannot be empty/falsy
    0.15009 seconds ./spec/models/booking_spec.rb:31
  Authentication user sign out allows a signed-in user to sign out
    0.13475 seconds ./spec/system/authentication_spec.rb:159
  Authentication user sign out allows a signed-in user to sign out
    0.12897 seconds ./spec/system/authentication_spec.rb:40
  SmsService.process_webhook with failed status updates the sms message status to failed and records error
    0.11646 seconds ./spec/services/sms_service_spec.rb:165
  BookingManager.update_booking when updating non-time attributes updates the booking successfully
    0.11342 seconds ./spec/services/booking_manager_spec.rb:136
  Admin Debug Page GET /admin/debug when tenants exist lists the available tenants
    0.11239 seconds ./spec/requests/admin/debug_spec.rb:67
  StaffMember scopes .active returns only active staff members
    0.10797 seconds ./spec/models/service_provider_spec.rb:24
  BookingManager.cancel_booking succeeds even if the booking is already cancelled
    0.10376 seconds ./spec/services/booking_manager_spec.rb:244
  SmsService.send_booking_confirmation calls send_message with the correct arguments and formatted message
    0.09972 seconds ./spec/services/sms_service_spec.rb:87

Top 9 slowest example groups:
  Authentication
    0.10468 seconds average (0.94213 seconds / 9 examples) ./spec/system/authentication_spec.rb:6
  BookingManager
    0.08778 seconds average (1.4 seconds / 16 examples) ./spec/services/booking_manager_spec.rb:5
  Admin Debug Page
    0.08262 seconds average (0.90885 seconds / 11 examples) ./spec/requests/admin/debug_spec.rb:5
  Booking
    0.0804 seconds average (0.72362 seconds / 9 examples) ./spec/models/booking_spec.rb:3
  SmsService
    0.07786 seconds average (0.93438 seconds / 12 examples) ./spec/services/sms_service_spec.rb:5
  StaffMember
    0.07773 seconds average (0.38864 seconds / 5 examples) ./spec/models/service_provider_spec.rb:5
  ApplicationMailer
    0.06678 seconds average (0.13355 seconds / 2 examples) ./spec/mailers/application_mailer_spec.rb:5
  TenantCustomer
    0.06618 seconds average (0.33089 seconds / 5 examples) ./spec/models/tenant_customer_spec.rb:5
  Health Checks
    0.04688 seconds average (0.23442 seconds / 5 examples) ./spec/requests/health_spec.rb:5

Finished in 6.07 seconds (files took 4.67 seconds to load)
74 examples, 0 failures

Randomized with seed 62199

.

Top 10 slowest examples (1.67 seconds, 27.0% of total time):
  Admin Bookings GET /admin/bookings lists all bookings
    0.24584 seconds ./spec/requests/admin/bookings_spec.rb:33
  PromotionManager.apply_promotion_to_booking with an invalid promotion code returns the validation error and does not change booking or redemptions
    0.18132 seconds ./spec/services/promotion_manager_spec.rb:183
  Admin Bookings DELETE /admin/bookings/:id deletes the booking
    0.1749 seconds ./spec/requests/admin/bookings_spec.rb:133
  Admin Bookings GET /admin/bookings/new shows the new booking form
    0.16206 seconds ./spec/requests/admin/bookings_spec.rb:55
  PromotionManager.apply_promotion_to_booking when booking amount is already 0 does not apply further discount but records redemption and increments usage
    0.15938 seconds ./spec/services/promotion_manager_spec.rb:246
  PromotionManager.apply_promotion_to_invoice with a valid percentage promotion applies discount, updates invoice, increments usage, creates redemption
    0.1579 seconds ./spec/services/promotion_manager_spec.rb:292
  Admin Bookings GET /admin/bookings/:id/edit shows the edit booking form
    0.15162 seconds ./spec/requests/admin/bookings_spec.rb:98
  Admin Bookings GET /admin/bookings/:id shows the booking details
    0.14925 seconds ./spec/requests/admin/bookings_spec.rb:45
  Admin Bookings PATCH /admin/bookings/:id updates the booking
    0.14357 seconds ./spec/requests/admin/bookings_spec.rb:114
  AnalyticsProcessingJob#perform with report_type: booking_summary without tenant_id (global) processes booking summary for all tenants
    0.1425 seconds ./spec/jobs/analytics_processing_job_spec.rb:45

Top 7 slowest example groups:
  Admin Bookings
    0.16682 seconds average (1.17 seconds / 7 examples) ./spec/requests/admin/bookings_spec.rb:5
  AnalyticsProcessingJob
    0.12493 seconds average (0.37479 seconds / 3 examples) ./spec/jobs/analytics_processing_job_spec.rb:5
  PromotionManager
    0.10688 seconds average (2.35 seconds / 22 examples) ./spec/services/promotion_manager_spec.rb:5
  Admin Dashboard
    0.09071 seconds average (0.27212 seconds / 3 examples) ./spec/requests/admin/dashboard_spec.rb:5
  Service
    0.07383 seconds average (0.66445 seconds / 9 examples) ./spec/models/service_spec.rb:5
  Home
    0.07034 seconds average (0.35169 seconds / 5 examples) ./spec/requests/home_spec.rb:5
  User
    0.06652 seconds average (0.93132 seconds / 14 examples) ./spec/models/user_spec.rb:5

Finished in 6.18 seconds (files took 4.57 seconds to load)
63 examples, 0 failures

Randomized with seed 59705

.....Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 68.09% (1408 / 2068)
Branch Coverage: 33.53% (173 / 516)
.Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 68.09% (1408 / 2068)
Branch Coverage: 33.53% (173 / 516)
....................

Top 10 slowest examples (3.32 seconds, 40.7% of total time):
  Admin Businesses POST /admin/businesses creates a new business
    1.01 seconds ./spec/requests/admin/businesses_spec.rb:65
  MultiTenant Email Uniqueness allows the same email to be used across different tenants when properly configured
    0.39787 seconds ./spec/integration/multi_tenant_registration_spec.rb:6
  Admin Businesses DELETE /admin/businesses/:id custom destroy forcefully deletes the business and associations in test env
    0.33712 seconds ./spec/requests/admin/businesses_spec.rb:156
  MarketingService.get_campaign_metrics for a combined campaign returns combined placeholder metrics
    0.32999 seconds ./spec/services/marketing_service_spec.rb:221
  Admin Businesses GET /admin/businesses/new form renders the form with all fields
    0.30679 seconds ./spec/requests/admin/businesses_spec.rb:175
  Admin Businesses GET /admin/businesses/:id show content shows the Users panel with user details
    0.29126 seconds ./spec/requests/admin/businesses_spec.rb:142
  MarketingService.get_campaign_metrics for an email campaign returns placeholder email metrics
    0.18416 seconds ./spec/services/marketing_service_spec.rb:195
  MarketingService.get_campaign_metrics for an SMS campaign returns metrics based on associated SmsMessages
    0.17116 seconds ./spec/services/marketing_service_spec.rb:204
  Admin Businesses DELETE /admin/businesses/:id deletes a business
    0.15217 seconds ./spec/requests/admin/businesses_spec.rb:86
  Admin Businesses authentication allows authenticated admin users to access
    0.14602 seconds ./spec/requests/admin/businesses_spec.rb:46

Top 9 slowest example groups:
  MultiTenant Email Uniqueness
    0.40033 seconds average (0.40033 seconds / 1 example) ./spec/integration/multi_tenant_registration_spec.rb:5
  Admin Businesses
    0.21804 seconds average (3.05 seconds / 14 examples) ./spec/requests/admin/businesses_spec.rb:8
  Admin AdminUsers
    0.10962 seconds average (0.98657 seconds / 9 examples) ./spec/requests/admin/admin_users_spec.rb:5
  MarketingService
    0.082 seconds average (2.05 seconds / 25 examples) ./spec/services/marketing_service_spec.rb:5
  Application Routes
    0.08094 seconds average (0.48564 seconds / 6 examples) ./spec/requests/routes_spec.rb:3
  Business
    0.06887 seconds average (0.6887 seconds / 10 examples) ./spec/models/business_spec.rb:5
  ApplicationJob
    0.05792 seconds average (0.05792 seconds / 1 example) ./spec/jobs/application_job_spec.rb:5
  Maintenance
    0.05105 seconds average (0.20421 seconds / 4 examples) ./spec/requests/maintenance_spec.rb:5
  Database seeds
    0.01796 seconds average (0.17959 seconds / 10 examples) ./spec/seeds/seeds_spec.rb:6

Finished in 8.17 seconds (files took 4.62 seconds to load)
80 examples, 0 failures

Randomized with seed 24645

Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 68.09% (1408 / 2068)
Branch Coverage: 33.53% (173 / 516)
Coverage report generated for RSpec-, RSpec-2, RSpec-3, RSpec-4 to /Users/brianlane/bizblasts/coverage.
Line Coverage: 68.09% (1408 / 2068)
Branch Coverage: 33.53% (173 / 516)

269 examples, 0 failures

Took 14 seconds
